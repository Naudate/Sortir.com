{% extends 'base.html.twig' %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>
    {% for message in app.flashes('success') %}
        <p>{{ message }}</p>
    {% endfor %}
<div class="example-wrapper">
    <h1>Hello {{ controller_name }}! âœ…</h1>


    <br/>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>NOM</th>
                <th>PRENOM</th>
                <th>PSEUDO</th>
                <th>TELEPHONE</th>
                <th>MAIL</th>
                <th>SITE</th>
            </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.nom }}</td>
                <td>{{ user.prenom}}</td>
                <td><a href="{{ path('user_details', {'id': user.id}) }}">{{ user.pseudo }}</a></td>
                <td>{{ user.telephone }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.site.nom }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <section>
        <div >
            {% if currentPage > 1 %}
                <a href="{{ path('user_home', {'page': currentPage - 1}) }}">Previous page</a>
            {% endif %}
            {% if currentPage < maxPage %}
                <div></div>
                <a href="{{ path('user_home', {'page' : currentPage + 1}) }}">Next page</a>
            {% endif%}
        </div>
    </section>
</div>
{% endblock %}
